140a141,147
> 				$invokerClassName = $mailSettings['transport'];
> 				$interfaceClassName = "Swift_Transport_MailInvoker";
> 				if ($invokerClassName != 'mail' && class_exists($invokerClassName) && class_implements($interfaceClassName)) {
> 					$invoker = t3lib_div::makeInstance($invokerClassName);
> 				} else {
> 					$invoker = NULL;
> 				}
142c149
< 				$this->transport = Swift_MailTransport::newInstance();
---
> 				$this->transport = Swift_MailTransport::newInstance($invoker);
